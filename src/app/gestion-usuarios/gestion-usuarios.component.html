<div class="user-management-container">
  <!-- Barra lateral de navegación -->
  <nav class="sidebar-nav">
    <div class="user-profile"> 
      <img src="user_icon_149851.webp" alt="Avatar" class="avatar">
      <div class="user-info"> 
        <h3>Bienvenido, NejoLGND</h3>
      </div>
    </div>
    <h2>Navegación</h2>
    <ul>
      <li><a routerLink="/dashboard">Inicio</a></li>
      <li><a routerLink="/inventory">Inventario</a></li>
      <li><a routerLink="/order-tracking">Seguimiento de Pedidos</a></li>
      <li><a routerLink="/supplier-coordination">Coordinación de Proveedores</a></li>
      <li><a routerLink="/reports">Informes</a></li>
      <li><a routerLink="/gestion-usuarios">Gestión de Usuarios</a></li>
    </ul>
  </nav>

  <!-- Contenido principal -->
  <div class="main-content-user">
    <h2 class="title">Gestión de Usuarios</h2>

    <!-- Formulario de Gestión de Usuarios -->
    <div class="user-management-form">
      <h3>Gestionar Usuarios</h3>
      <div class="management-row">
        <div class="management-item">
          <label for="manage-rut">RUT</label>
          <input type="text" id="manage-rut" [(ngModel)]="filters.rut" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-name">Nombre</label>
          <input type="text" id="manage-name" [(ngModel)]="filters.name" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-lastname">Apellido</label>
          <input type="text" id="manage-lastname" [(ngModel)]="filters.lastname" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-age">Edad</label>
          <input type="number" id="manage-age" [(ngModel)]="filters.age" (ngModelChange)="filterUsers()" />
        </div>
      </div>
      <div class="management-row">
        <div class="management-item">
          <label for="manage-entry-date">Fecha de Entrada</label>
          <input type="date" id="manage-entry-date" [(ngModel)]="filters.entryDate" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-department">Departamento</label>
          <input type="text" id="manage-department" [(ngModel)]="filters.department" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-salary">Salario</label>
          <input type="number" id="manage-salary" step="0.01" [(ngModel)]="filters.salary" (ngModelChange)="filterUsers()" />
        </div>
        <div class="management-item">
          <label for="manage-experience">Tiempo en la Empresa (años)</label>
          <input type="number" id="manage-experience" [(ngModel)]="filters.experience" (ngModelChange)="filterUsers()" />
        </div>
      </div>
      <div class="button-container-user">
        <button id="manage-button" class="manage-btn" (click)="manageUsers()">Filtrar</button>
        <button class="add-btn" (click)="showAddForm()">Agregar Nuevo Usuario</button>
      </div>
    </div>

    <!-- Formulario para agregar un nuevo usuario -->
    <div *ngIf="showForm" class="add-user-form">
      <h3>Agregar Nuevo Usuario</h3>
      <div class="management-row">
        <div class="management-item">
          <label for="new-rut">RUT</label>
          <input type="text" id="new-rut" [(ngModel)]="newUser.rut" />
        </div>
        <div class="management-item">
          <label for="new-name">Nombre</label>
          <input type="text" id="new-name" [(ngModel)]="newUser.name" />
        </div>
        <div class="management-item">
          <label for="new-lastname">Apellido</label>
          <input type="text" id="new-lastname" [(ngModel)]="newUser.lastname" />
        </div>
        <div class="management-item">
          <label for="new-age">Edad</label>
          <input type="number" id="new-age" [(ngModel)]="newUser.age" />
        </div>
      </div>
      <div class="management-row">
        <div class="management-item">
          <label for="new-entry-date">Fecha de Entrada</label>
          <input type="date" id="new-entry-date" [(ngModel)]="newUser.entryDate" />
        </div>
        <div class="management-item">
          <label for="new-department">Departamento</label>
          <input type="text" id="new-department" [(ngModel)]="newUser.department" />
        </div>
        <div class="management-item">
          <label for="new-salary">Salario</label>
          <input type="number" id="new-salary" step="0.01" [(ngModel)]="newUser.salary" />
        </div>
        <div class="management-item">
          <label for="new-experience">Tiempo en la Empresa (años)</label>
          <input type="number" id="new-experience" [(ngModel)]="newUser.experience" />
        </div>
      </div>
      <div class="button-container-user">
        <button (click)="addUser()">Guardar Usuario</button>
        <button (click)="closeForm()">Cancelar</button>
      </div>
    </div>

    <!-- Tabla de Usuarios -->
    <div class="user-table">
      <h3>Lista de Usuarios</h3>
      <table class="user-inventory-table">
        <thead>
          <tr>
            <th>RUT</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Edad</th>
            <th>Fecha de Entrada</th>
            <th>Departamento</th>
            <th>Salario</th>
            <th>Tiempo en la Empresa (años)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of filteredUsers">
            <td>{{ user.rut }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.lastname }}</td>
            <td>{{ user.age }}</td>
            <td>{{ user.entryDate | date }}</td>
            <td>{{ user.department }}</td>
            <td>{{ user.salary | currency }}</td>
            <td>{{ user.experience }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
